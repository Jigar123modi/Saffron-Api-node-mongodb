{"version":3,"sources":["api/Reports/index.js"],"names":["express","require","controller","router","Router","get","validateAuthorization","getTopUser","getTotalBillablePrice","getOrderStatusReport","getTeamWiseOrderStatusReport","use","err","req","res","next","arrayMessages","allErrorField","errors","i","length","Single_error","messages","toString","replace","push","join","status","json","module","exports"],"mappings":";;AAGA;;;;AACA;;;;AACA;;;;AALA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,aAAaD,QAAQ,sBAAR,CAAjB;AACA,IAAIE,SAASH,QAAQI,MAAR,EAAb;;;AAKA;AACAD,OAAOE,GAAP,CAAW,WAAX,EAAwB,qBAAYC,qBAApC,EAA2DJ,WAAWK,UAAtE;;AAEA;AACAJ,OAAOE,GAAP,CAAW,wBAAX,EAAqC,qBAAYC,qBAAjD,EAAwEJ,WAAWM,qBAAnF;;AAEA;AACAL,OAAOE,GAAP,CAAW,uBAAX,EAAoC,qBAAYC,qBAAhD,EAAuEJ,WAAWO,oBAAlF;;AAEA;AACAN,OAAOE,GAAP,CAAW,+BAAX,EAA4C,qBAAYC,qBAAxD,EAA+EJ,WAAWQ,4BAA1F;;AAGAP,OAAOQ,GAAP,CAAW,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;AACtC,QAAIC,gBAAgB,EAApB;AACA,QAAIC,aAAJ;AACA,QAAGL,IAAIM,MAAP,EAAc;AACV,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIP,IAAIM,MAAJ,CAAWE,MAA/B,EAAuCD,GAAvC,EAA4C;AACxC,gBAAIE,eAAeT,IAAIM,MAAJ,CAAWC,CAAX,EAAcG,QAAd,CAAuBC,QAAvB,GAAkCC,OAAlC,CAA0C,IAA1C,EAAgD,EAAhD,CAAnB;AACAR,0BAAcS,IAAd,CAAmBJ,YAAnB;AACH;AACDJ,wBAAgBD,cAAcU,IAAd,CAAmB,GAAnB,CAAhB;AACAZ,YAAIa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,qCAAkBX,aAAlB,EAAiCA,aAAjC,CAArB;AACH,KAPD,MAOK;AACDF,aAAKH,GAAL;AACH;AACJ,CAbD;;AAeAiB,OAAOC,OAAP,GAAiB3B,MAAjB","file":"index.js","sourcesContent":["let express = require('express');\nlet controller = require('./reports.controller');\nlet router = express.Router();\nimport validations from './validation';\nimport validate from 'express-validation';\nimport {errorJsonResponse} from '../../config/commonHelper';\n\n//01 . GET /api/Reports/topUser\nrouter.get('/topUsers', validations.validateAuthorization, controller.getTopUser);\n\n//02 . GET /api/Reports/getTotalBillablePrice\nrouter.get('/getTotalBillablePrice', validations.validateAuthorization, controller.getTotalBillablePrice);\n\n//03 . GET /api/Reports/getOrderReport\nrouter.get('/getOrderStatusReport', validations.validateAuthorization, controller.getOrderStatusReport);\n\n//04 . GET /api/Reports/getTeamWiseOrderStatusReport\nrouter.get('/getTeamWiseOrderStatusReport', validations.validateAuthorization, controller.getTeamWiseOrderStatusReport);\n\n\nrouter.use(function (err, req, res, next) {\n    let arrayMessages = [];\n    let allErrorField;\n    if(err.errors){\n        for (let i = 0; i < err.errors.length; i++) {\n            let Single_error = err.errors[i].messages.toString().replace(/\"/g, '');\n            arrayMessages.push(Single_error);\n        }\n        allErrorField = arrayMessages.join(\",\");\n        res.status(400).json(errorJsonResponse(allErrorField, allErrorField));\n    }else{\n        next(err);\n    }\n});\n\nmodule.exports = router;\n"]}