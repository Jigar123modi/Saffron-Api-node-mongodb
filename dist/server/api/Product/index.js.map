{"version":3,"sources":["api/Product/index.js"],"names":["express","require","controller","router","Router","get","index","allProduct","post","validateAuthorization","addNewProduct","put","updateProduct","delete","deleteProduct","teamMember","use","err","req","res","next","arrayMessages","allErrorField","i","errors","length","Single_error","messages","toString","replace","push","join","status","json","module","exports"],"mappings":";;AAEA;;;;AACA;;;;AACA;;;;AAJA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,aAAaD,QAAQ,sBAAR,CAAjB;;;AAKA,IAAIE,SAASH,QAAQI,MAAR,EAAb;;AAEA;AACAD,OAAOE,GAAP,CAAW,GAAX,EAAgBH,WAAWI,KAA3B;;AAEA;AACAH,OAAOE,GAAP,CAAW,aAAX,EAA0BH,WAAWK,UAArC;;AAEA;AACAJ,OAAOK,IAAP,CAAY,GAAZ,EAAiB,qBAAYC,qBAA7B,EAAoDP,WAAWQ,aAA/D;;AAEA;AACAP,OAAOQ,GAAP,CAAW,GAAX,EAAgB,qBAAYF,qBAA5B,EAAmDP,WAAWU,aAA9D;;AAEA;AACAT,OAAOU,MAAP,CAAc,aAAd,EAA6B,qBAAYJ,qBAAzC,EAAgEP,WAAWY,aAA3E;;AAEA;AACAX,OAAOE,GAAP,CAAW,wBAAX,EAAqCH,WAAWa,UAAhD;;AAEAZ,OAAOa,GAAP,CAAW,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;AACtC,QAAIC,gBAAgB,EAApB;AACA,QAAIC,aAAJ;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIN,IAAIO,MAAJ,CAAWC,MAA/B,EAAuCF,GAAvC,EAA4C;AACxC,YAAIG,eAAeT,IAAIO,MAAJ,CAAWD,CAAX,EAAcI,QAAd,CAAuBC,QAAvB,GAAkCC,OAAlC,CAA0C,IAA1C,EAAgD,EAAhD,CAAnB;AACAR,sBAAcS,IAAd,CAAmBJ,YAAnB;AACH;AACDJ,oBAAgBD,cAAcU,IAAd,CAAmB,GAAnB,CAAhB;AACAZ,QAAIa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,qCAAkBX,aAAlB,EAAiCA,aAAjC,CAArB;AACH,CATD;;AAYAY,OAAOC,OAAP,GAAiBhC,MAAjB","file":"index.js","sourcesContent":["var express = require('express');\r\nvar controller = require('./Product.controller');\r\nimport validations from './validation';\r\nimport validate from 'express-validation';\r\nimport {errorJsonResponse} from '../../config/commonHelper';\r\n\r\nvar router = express.Router();\r\n\r\n// 01. GET   /api/Products/\r\nrouter.get('/', controller.index);\r\n\r\n// 02. GET /api/Products/allProduct/\r\nrouter.get('/allProduct', controller.allProduct);\r\n\r\n// 02. POST /api/Products/\r\nrouter.post('/', validations.validateAuthorization, controller.addNewProduct);\r\n\r\n// 03. PUT /api/Products/\r\nrouter.put('/', validations.validateAuthorization, controller.updateProduct);\r\n\r\n// 04. DELETE /api/Products/\r\nrouter.delete('/:productId', validations.validateAuthorization, controller.deleteProduct);\r\n\r\n// 05. GET   /api/Products/teamMember\r\nrouter.get('/teamMember/:productId', controller.teamMember);\r\n\r\nrouter.use(function (err, req, res, next) {\r\n    let arrayMessages = [];\r\n    let allErrorField;\r\n    for (let i = 0; i < err.errors.length; i++) {\r\n        let Single_error = err.errors[i].messages.toString().replace(/\"/g, '');\r\n        arrayMessages.push(Single_error);\r\n    }\r\n    allErrorField = arrayMessages.join(\",\");\r\n    res.status(400).json(errorJsonResponse(allErrorField, allErrorField));\r\n});\r\n\r\n\r\nmodule.exports = router;\r\n"]}